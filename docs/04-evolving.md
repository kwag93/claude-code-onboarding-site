# 04. 나아가는 방법

Claude Code를 사용할수록 더 강력해지는 시스템을 만드는 방법입니다.

---

## 핵심 원칙

> **사용할수록 AI의 타겟 적중률이 올라간다**

처음에는 AI가 당신이 원하는 것을 정확히 맞추지 못할 수 있습니다.
하지만 **피드백을 반영하면** 시간이 지날수록 정확도가 높아집니다.

```
[첫 사용] → AI가 70% 정도 맞춤
    ↓
[피드백 + 룰 업데이트]
    ↓
[한 달 후] → AI가 90% 이상 맞춤
```

---

## 개선 루프: 문제 → 피드백 → 업데이트

### 1단계: 문제 인식

AI가 반복적으로 틀리는 패턴을 발견합니다.

```
예시:
- "매번 PostgreSQL 문법을 MySQL로 잘못 써"
- "우리 팀 컨벤션을 계속 무시해"
- "특정 라이브러리 버전을 자꾸 헷갈려"
```

### 2단계: 명시적 피드백

문제를 Claude에게 명확히 알려줍니다.

```
> 아까 그 SQL 쿼리, PostgreSQL 문법이 아니라 MySQL 문법이었어.
> 앞으로 PostgreSQL만 사용해야 해.
> 이걸 기억해둘 수 있어?
```

### 3단계: 영구 저장 (메모리/룰/스킬)

피드백을 시스템에 반영합니다.

---

## 업데이트 대상별 가이드

### 1. CLAUDE.md (프로젝트 룰)

프로젝트 전체에 적용되는 규칙

```markdown
# CLAUDE.md에 추가

## 데이터베이스 규칙

- PostgreSQL만 사용 (MySQL 문법 사용 금지)
- 테이블명은 snake_case, 복수형 (users, orders)
- timestamp 컬럼은 항상 timezone 포함

## 금지 사항

- SELECT \* 사용 금지
- 인덱스 없는 WHERE 절 금지
```

**업데이트 요청 예시:**

```
> CLAUDE.md에 PostgreSQL 관련 규칙 추가해줘.
> 앞으로 MySQL 문법 쓰면 안 돼.
```

### 2. 메모리 (프로젝트 기억)

AI가 기억해야 할 컨텍스트

```
> 이 프로젝트에서 user_service.py는 절대 건드리면 안 돼.
> 레거시 코드라서 영향 범위가 너무 커.
> 이거 기억해둬.
```

Claude가 메모리에 저장:

```
[Memory: user_service.py 수정 금지 - 레거시 코드, 영향 범위 큼]
```

### 3. 스킬 (반복 작업)

자주 하는 작업을 스킬로 만들기

```
> 매번 PR 올릴 때마다 같은 체크리스트 확인하잖아.
> 이걸 자동으로 해주는 스킬 만들어줘.

> PR 체크리스트 스킬:
> 1. 테스트 커버리지 80% 이상 확인
> 2. 린트 에러 0개 확인
> 3. CHANGELOG.md 업데이트 여부 확인
> 4. 관련 이슈 번호 포함 여부 확인
```

### 4. 훅 (자동 실행)

특정 이벤트에 자동 실행되는 동작

```
> 커밋할 때마다 테스트 돌리는 거 잊어버려.
> pre-commit 훅으로 자동 실행되게 해줘.
```

---

## 실전 개선 시나리오

### 시나리오 1: 반복되는 실수

```
[상황] Claude가 자꾸 deprecated API 사용

> 방금 쓴 코드에서 createUser 대신 registerUser를 써야 해.
> createUser는 v2에서 deprecated됐어.
> 이런 deprecated API 목록을 CLAUDE.md에 추가해줘.

[결과] CLAUDE.md에 deprecated API 섹션 추가
```

### 시나리오 2: 팀 컨벤션 누락

```
[상황] 에러 핸들링 방식이 팀 규칙과 다름

> 우리 팀은 에러를 이렇게 처리해:
> - 사용자 에러: UserError 클래스 사용
> - 시스템 에러: SystemError 클래스 사용
> - 모든 에러는 error_handler.py를 통해 처리
>
> 이 규칙을 스킬로 만들어서
> 에러 핸들링 코드 작성할 때 자동으로 적용해줘.

[결과] error-handling-convention 스킬 생성
```

### 시나리오 3: 버전 호환성

```
[상황] 라이브러리 버전 혼동

> 우리 프로젝트는 React 18.2를 써.
> 19 버전 기능 쓰면 안 돼.
> package.json 보고 현재 버전 확인하는 습관 들여줘.
> 이걸 pre-code-generation 훅으로 만들어줘.

[결과] 코드 생성 전 package.json 버전 확인 훅 생성
```

---

## 개선 체크리스트

주기적으로 점검하세요:

### 주간 점검

- [ ] 이번 주 AI가 반복적으로 틀린 것 있었나?
- [ ] CLAUDE.md에 추가할 규칙 있나?
- [ ] 자동화할 만한 반복 작업 있었나?

### 월간 점검

- [ ] 현재 스킬/훅 목록 확인
- [ ] 사용하지 않는 것 정리
- [ ] 새로 필요한 것 추가
- [ ] CLAUDE.md 규칙 검토 및 정리

---

## 팀 공유

개선한 내용은 팀과 공유하세요.

```bash
# CLAUDE.md는 git으로 관리
git add CLAUDE.md
git commit -m "feat: PostgreSQL 규칙 및 deprecated API 목록 추가"

# 스킬은 팀 저장소에 공유
# ~/.claude/skills/ 폴더 내용을 팀 저장소로
```

### 팀 온보딩에 활용

새 팀원이 올 때:

1. 프로젝트 clone
2. `claude` 실행
3. CLAUDE.md가 자동으로 컨텍스트 제공
4. 팀 스킬/훅이 자동으로 동작

→ **팀의 모범 사례가 자동으로 전파됨**

---

## 기억해야 할 것

> **AI는 학습하지 않지만, 당신의 시스템은 진화한다**

Claude 자체는 대화 사이에 기억하지 않습니다.
하지만 CLAUDE.md, 스킬, 훅을 통해 **당신의 환경이 진화**합니다.

```
[당신의 피드백] → [CLAUDE.md/스킬/훅 업데이트] → [더 나은 결과]
                         ↑__________________________|
```

이 루프를 꾸준히 돌리면,
처음에는 부족했던 AI가 점점 **당신의 완벽한 페어 프로그래머**가 됩니다.

---

## 다음 단계

시스템 개선 방법을 익혔다면 [05. 요청하는 방법](./05-prompt-tips.md)에서 효과적인 커뮤니케이션 방법을 알아보세요.
