# 02. 실무 워크플로우

Claude Code를 실제 개발 업무에 활용하는 구체적인 시나리오들입니다.

## 시나리오 1: 코드 리뷰 받기

### 상황

PR을 올리기 전에 내 코드를 점검받고 싶을 때

### 워크플로우

**1단계: 변경사항 리뷰 요청**

```
git diff를 보고 이번 변경사항을 리뷰해줘
```

**2단계: 구체적인 관점 요청**

```
특히 이 부분들 체크해줘:
- 에러 처리가 충분한지
- 엣지 케이스 누락은 없는지
- 네이밍이 명확한지
```

**3단계: 피드백 반영**

```
두 번째 피드백 반영해서 수정해줘
```

### 실제 예시

```
> user_service.py 파일의 create_user 함수 리뷰해줘

Claude가 분석 후:
- "password를 평문으로 저장하고 있네요. 해싱 적용을 권장합니다"
- "email 유효성 검사가 없습니다"
- "이미 존재하는 유저 체크 로직이 필요해 보입니다"

> 지적한 3가지 모두 수정해줘
```

### Pro Tips

- 전체 파일보다 **변경된 부분만** 리뷰 요청하면 더 집중적인 피드백을 받을 수 있음
- "시니어 개발자 관점에서", "보안 관점에서" 같이 관점을 명시하면 더 깊은 리뷰 가능

---

## 시나리오 2: 리팩토링

### 상황

동작은 하지만 코드 품질을 개선하고 싶을 때

### 워크플로우

**1단계: 현재 상태 분석**

```
이 파일에서 개선할 수 있는 부분을 찾아줘.
동작을 바꾸지 않고 코드 품질만 개선하고 싶어.
```

**2단계: 리팩토링 계획 확인**

```
어떤 순서로 리팩토링하면 좋을지 계획을 세워줘
```

**3단계: 단계별 실행**

```
첫 번째 단계부터 진행해줘.
각 단계마다 테스트가 통과하는지 확인하면서.
```

### 실제 예시

```
> OrderProcessor 클래스가 너무 커졌어. 책임을 분리해줘

Claude가 분석 후:
- "주문 생성, 결제 처리, 알림 발송이 하나의 클래스에 있네요"
- "3개의 클래스로 분리하는 것을 제안합니다"
- OrderCreator, PaymentProcessor, NotificationSender

> 좋아, 근데 기존 테스트가 깨지지 않게 조심해서 진행해줘
```

### Pro Tips

- **"동작을 바꾸지 말고"** 라고 명시하면 안전한 리팩토링에 집중함
- 큰 리팩토링은 한 번에 하지 말고 **단계별로** 요청
- 각 단계 후 테스트 실행을 요청하면 안전하게 진행 가능

---

## 시나리오 3: 버그 디버깅

### 상황

에러가 발생했는데 원인을 모르겠을 때

### 워크플로우

**1단계: 에러 공유**

```
이 에러가 발생하는데 원인을 찾아줘:

[에러 메시지나 스택 트레이스 붙여넣기]
```

**2단계: 관련 코드 분석**

```
관련된 코드를 찾아서 왜 이 에러가 나는지 분석해줘
```

**3단계: 수정 및 검증**

```
수정해주고, 같은 에러가 다시 안 나는지 확인할 방법도 알려줘
```

### 실제 예시

```
> 이 에러 원인 찾아줘:
> TypeError: Cannot read property 'map' of undefined
> at UserList.render (UserList.jsx:15)

Claude가 분석:
- "users props가 undefined일 때 발생하는 에러입니다"
- "API 응답이 오기 전에 렌더링되는 것 같아요"

> users가 없을 때 처리를 추가해줘

> 혹시 비슷한 패턴이 다른 파일에도 있는지 찾아줘
```

### Pro Tips

- **에러 메시지 전체**를 공유하세요 (일부만 복사하면 정보가 부족)
- "언제" 발생하는지 맥락을 함께 설명하면 더 정확한 분석 가능
- 수정 후 **재발 방지책**도 함께 요청

---

## 시나리오 4: 복잡한 버그 추적

### 상황

간헐적으로 발생하거나 재현이 어려운 버그

### 워크플로우

**1단계: 상황 설명**

```
이런 버그가 가끔 발생해:
- 현상: [무엇이 잘못되는지]
- 재현 조건: [언제 발생하는지, 또는 "불규칙"]
- 이미 시도한 것: [해본 것들]
```

**2단계: 가설 수립**

```
가능한 원인들을 추측해보고, 각각 확인하는 방법을 알려줘
```

**3단계: 로깅 추가**

```
첫 번째 가설을 검증할 로그를 추가해줘
```

### 실제 예시

```
> 결제 완료 후 가끔 재고가 안 줄어. 10번 중 1번 정도?

Claude가 분석:
- "레이스 컨디션일 가능성이 높아 보입니다"
- "트랜잭션 처리를 확인해볼게요"
- [관련 코드 분석...]

> 맞네, 트랜잭션 락이 없었어. 수정해줘
```

---

## 워크플로우 체크리스트

### 코드 리뷰 요청 시

- [ ] 어떤 파일/함수를 리뷰할지 명확히
- [ ] 어떤 관점으로 봐달라는지 명시
- [ ] 변경사항의 목적 설명

### 리팩토링 요청 시

- [ ] 현재 코드의 문제점 설명
- [ ] "동작은 유지"한다고 명시
- [ ] 단계별로 진행 요청

### 디버깅 요청 시

- [ ] 전체 에러 메시지 공유
- [ ] 발생 상황/조건 설명
- [ ] 이미 시도한 것 언급

---

## 다음 단계

워크플로우가 익숙해졌다면 [03. 프롬프트 팁](./03-prompt-tips.md)에서 더 효과적인 요청 방법을 알아보세요.
